ifeq ($(isa),sse)
	FLAGS += -DSSE
	COMPILER = gcc
	CFLAGS = -g -Wall -Wextra -Ofast -march=native
else ifeq ($(isa),avx)
	FLAGS += -DAVX
	COMPILER = gcc
	CFLAGS = -g -Wall -Wextra -Ofast -march=native
else ifeq ($(isa),avx256)
	FLAGS += -DAVX256
	COMPILER = gcc
	CFLAGS = -g -Wall -Wextra -Ofast -march=native
else ifeq ($(isa),avx512)
	FLAGS += -DAVX512
	COMPILER = gcc
	CFLAGS = -g -Wall -Wextra -Ofast -march=native
else ifeq ($(isa),scalar)
	FLAGS += -DSCALAR
	COMPILER = gcc
	CFLAGS = -g -Wall -Wextra -Ofast -march=native
else ifeq ($(isa),rv64)
	FLAGS += -DRV -DRV64 -DFP
	COMPILER = riscv64-linux-gnu-gcc-12
	OBJDUMP = riscv64-linux-gnu-objdump
	CFLAGS = -g -Wall -Wextra -Ofast -mabi=lp64d -march=rv64gc
else
	FLAGS += -DARMV7A
endif

CFLAGS += -pthread $(FLAGS)

all:
	$(COMPILER) $(CFLAGS) Test/main_test.c -o bin/test -lm
	$(OBJDUMP) -d bin/test > app.lst
