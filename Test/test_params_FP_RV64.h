#define FP_INST 8192
static inline __attribute__((always_inline)) void test_function(int long long num_rep_max){
	__asm__ __volatile__ (
		"ld t2, %0\n\t\t"
		"outer_loop_%=:\n\t\t"
		"li t1, 64\n\t\t"
		"inner_loop_%=:\n\t\t"
		"fmadd.d f0, f0, f0, f0\n\t\t"
		"fmadd.d f1, f1, f1, f1\n\t\t"
		"fmadd.d f2, f2, f2, f2\n\t\t"
		"fmadd.d f3, f3, f3, f3\n\t\t"
		"fmadd.d f4, f4, f4, f4\n\t\t"
		"fmadd.d f5, f5, f5, f5\n\t\t"
		"fmadd.d f6, f6, f6, f6\n\t\t"
		"fmadd.d f7, f7, f7, f7\n\t\t"
		"fmadd.d f8, f8, f8, f8\n\t\t"
		"fmadd.d f9, f9, f9, f9\n\t\t"
		"fmadd.d f10, f10, f10, f10\n\t\t"
		"fmadd.d f11, f11, f11, f11\n\t\t"
		"fmadd.d f12, f12, f12, f12\n\t\t"
		"fmadd.d f13, f13, f13, f13\n\t\t"
		"fmadd.d f14, f14, f14, f14\n\t\t"
		"fmadd.d f15, f15, f15, f15\n\t\t"
		"fmadd.d f16, f16, f16, f16\n\t\t"
		"fmadd.d f17, f17, f17, f17\n\t\t"
		"fmadd.d f18, f18, f18, f18\n\t\t"
		"fmadd.d f19, f19, f19, f19\n\t\t"
		"fmadd.d f20, f20, f20, f20\n\t\t"
		"fmadd.d f21, f21, f21, f21\n\t\t"
		"fmadd.d f22, f22, f22, f22\n\t\t"
		"fmadd.d f23, f23, f23, f23\n\t\t"
		"fmadd.d f24, f24, f24, f24\n\t\t"
		"fmadd.d f25, f25, f25, f25\n\t\t"
		"fmadd.d f26, f26, f26, f26\n\t\t"
		"fmadd.d f27, f27, f27, f27\n\t\t"
		"fmadd.d f28, f28, f28, f28\n\t\t"
		"fmadd.d f29, f29, f29, f29\n\t\t"
		"fmadd.d f30, f30, f30, f30\n\t\t"
		"fmadd.d f31, f31, f31, f31\n\t\t"
		"fmadd.d f0, f0, f0, f0\n\t\t"
		"fmadd.d f1, f1, f1, f1\n\t\t"
		"fmadd.d f2, f2, f2, f2\n\t\t"
		"fmadd.d f3, f3, f3, f3\n\t\t"
		"fmadd.d f4, f4, f4, f4\n\t\t"
		"fmadd.d f5, f5, f5, f5\n\t\t"
		"fmadd.d f6, f6, f6, f6\n\t\t"
		"fmadd.d f7, f7, f7, f7\n\t\t"
		"fmadd.d f8, f8, f8, f8\n\t\t"
		"fmadd.d f9, f9, f9, f9\n\t\t"
		"fmadd.d f10, f10, f10, f10\n\t\t"
		"fmadd.d f11, f11, f11, f11\n\t\t"
		"fmadd.d f12, f12, f12, f12\n\t\t"
		"fmadd.d f13, f13, f13, f13\n\t\t"
		"fmadd.d f14, f14, f14, f14\n\t\t"
		"fmadd.d f15, f15, f15, f15\n\t\t"
		"fmadd.d f16, f16, f16, f16\n\t\t"
		"fmadd.d f17, f17, f17, f17\n\t\t"
		"fmadd.d f18, f18, f18, f18\n\t\t"
		"fmadd.d f19, f19, f19, f19\n\t\t"
		"fmadd.d f20, f20, f20, f20\n\t\t"
		"fmadd.d f21, f21, f21, f21\n\t\t"
		"fmadd.d f22, f22, f22, f22\n\t\t"
		"fmadd.d f23, f23, f23, f23\n\t\t"
		"fmadd.d f24, f24, f24, f24\n\t\t"
		"fmadd.d f25, f25, f25, f25\n\t\t"
		"fmadd.d f26, f26, f26, f26\n\t\t"
		"fmadd.d f27, f27, f27, f27\n\t\t"
		"fmadd.d f28, f28, f28, f28\n\t\t"
		"fmadd.d f29, f29, f29, f29\n\t\t"
		"fmadd.d f30, f30, f30, f30\n\t\t"
		"fmadd.d f31, f31, f31, f31\n\t\t"
		"fmadd.d f0, f0, f0, f0\n\t\t"
		"fmadd.d f1, f1, f1, f1\n\t\t"
		"fmadd.d f2, f2, f2, f2\n\t\t"
		"fmadd.d f3, f3, f3, f3\n\t\t"
		"fmadd.d f4, f4, f4, f4\n\t\t"
		"fmadd.d f5, f5, f5, f5\n\t\t"
		"fmadd.d f6, f6, f6, f6\n\t\t"
		"fmadd.d f7, f7, f7, f7\n\t\t"
		"fmadd.d f8, f8, f8, f8\n\t\t"
		"fmadd.d f9, f9, f9, f9\n\t\t"
		"fmadd.d f10, f10, f10, f10\n\t\t"
		"fmadd.d f11, f11, f11, f11\n\t\t"
		"fmadd.d f12, f12, f12, f12\n\t\t"
		"fmadd.d f13, f13, f13, f13\n\t\t"
		"fmadd.d f14, f14, f14, f14\n\t\t"
		"fmadd.d f15, f15, f15, f15\n\t\t"
		"fmadd.d f16, f16, f16, f16\n\t\t"
		"fmadd.d f17, f17, f17, f17\n\t\t"
		"fmadd.d f18, f18, f18, f18\n\t\t"
		"fmadd.d f19, f19, f19, f19\n\t\t"
		"fmadd.d f20, f20, f20, f20\n\t\t"
		"fmadd.d f21, f21, f21, f21\n\t\t"
		"fmadd.d f22, f22, f22, f22\n\t\t"
		"fmadd.d f23, f23, f23, f23\n\t\t"
		"fmadd.d f24, f24, f24, f24\n\t\t"
		"fmadd.d f25, f25, f25, f25\n\t\t"
		"fmadd.d f26, f26, f26, f26\n\t\t"
		"fmadd.d f27, f27, f27, f27\n\t\t"
		"fmadd.d f28, f28, f28, f28\n\t\t"
		"fmadd.d f29, f29, f29, f29\n\t\t"
		"fmadd.d f30, f30, f30, f30\n\t\t"
		"fmadd.d f31, f31, f31, f31\n\t\t"
		"fmadd.d f0, f0, f0, f0\n\t\t"
		"fmadd.d f1, f1, f1, f1\n\t\t"
		"fmadd.d f2, f2, f2, f2\n\t\t"
		"fmadd.d f3, f3, f3, f3\n\t\t"
		"fmadd.d f4, f4, f4, f4\n\t\t"
		"fmadd.d f5, f5, f5, f5\n\t\t"
		"fmadd.d f6, f6, f6, f6\n\t\t"
		"fmadd.d f7, f7, f7, f7\n\t\t"
		"fmadd.d f8, f8, f8, f8\n\t\t"
		"fmadd.d f9, f9, f9, f9\n\t\t"
		"fmadd.d f10, f10, f10, f10\n\t\t"
		"fmadd.d f11, f11, f11, f11\n\t\t"
		"fmadd.d f12, f12, f12, f12\n\t\t"
		"fmadd.d f13, f13, f13, f13\n\t\t"
		"fmadd.d f14, f14, f14, f14\n\t\t"
		"fmadd.d f15, f15, f15, f15\n\t\t"
		"fmadd.d f16, f16, f16, f16\n\t\t"
		"fmadd.d f17, f17, f17, f17\n\t\t"
		"fmadd.d f18, f18, f18, f18\n\t\t"
		"fmadd.d f19, f19, f19, f19\n\t\t"
		"fmadd.d f20, f20, f20, f20\n\t\t"
		"fmadd.d f21, f21, f21, f21\n\t\t"
		"fmadd.d f22, f22, f22, f22\n\t\t"
		"fmadd.d f23, f23, f23, f23\n\t\t"
		"fmadd.d f24, f24, f24, f24\n\t\t"
		"fmadd.d f25, f25, f25, f25\n\t\t"
		"fmadd.d f26, f26, f26, f26\n\t\t"
		"fmadd.d f27, f27, f27, f27\n\t\t"
		"fmadd.d f28, f28, f28, f28\n\t\t"
		"fmadd.d f29, f29, f29, f29\n\t\t"
		"fmadd.d f30, f30, f30, f30\n\t\t"
		"fmadd.d f31, f31, f31, f31\n\t\t"
		"addi t1, t1, -1\n\t\t"
		"bnez t1, inner_loop_%=\n\t\t"
		"addi t2, t2, -1\n\t\t"
		"bnez t2, outer_loop_%=\n\t\t"
		:
		:"m"(num_rep_max)
		:"t1","t2","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","f10","f11","f12","f13","f14","f15","memory"
	);
}

